import{d as V,u as g,c as w,a as m,b as o,w as s,e as k,r as a,f as x,o as v,g as i,h as C,_ as y}from"./index-OWjV_rHx.js";import{h as B}from"./http-g9MZ8hgC.js";const N={class:"login"},U={class:"card"},L=V({__name:"Login",setup(R){const r=x(),p=g(),t=C({username:"",password:""}),_=async()=>{const e=(await B.post("/login",t)).data.data,n={id:e.id,username:e.username,nickname:e.nickname,role:e.role};p.setAuth(e.token,n,e.menus||[]),r.push("/box")},c=()=>r.push("/register");return(f,e)=>{const n=a("el-input"),u=a("el-form-item"),d=a("el-button"),b=a("el-form");return v(),w("div",N,[m("div",U,[e[5]||(e[5]=m("h2",null,"DistributionBox",-1)),o(b,{model:t,onSubmit:e[2]||(e[2]=k(()=>{},["prevent"]))},{default:s(()=>[o(u,{label:"用户名"},{default:s(()=>[o(n,{modelValue:t.username,"onUpdate:modelValue":e[0]||(e[0]=l=>t.username=l)},null,8,["modelValue"])]),_:1}),o(u,{label:"密码"},{default:s(()=>[o(n,{modelValue:t.password,"onUpdate:modelValue":e[1]||(e[1]=l=>t.password=l),type:"password"},null,8,["modelValue"])]),_:1}),o(d,{type:"primary",class:"full",onClick:_},{default:s(()=>[...e[3]||(e[3]=[i("登录",-1)])]),_:1}),o(d,{class:"full",onClick:c},{default:s(()=>[...e[4]||(e[4]=[i("注册",-1)])]),_:1})]),_:1},8,["model"])])])}}}),D=y(L,[["__scopeId","data-v-9d7ce844"]]);export{D as default};
