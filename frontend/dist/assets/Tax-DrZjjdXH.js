import{h as m}from"./http-Cn7TCoTQ.js";import{_ as V}from"./EntityForm.vue_vue_type_script_setup_true_lang-CkomLGgO.js";import{d as w,c as N,a as $,b as a,w as l,i as b,r as i,o as j,g as p,j as z,k as B,h as T,_ as D}from"./index-CkmIPjxY.js";const E={class:"toolbar"},O=w({__name:"Tax",setup(U){const f=b([]),s=b(!1);let t=T({});const _=[{key:"name",label:"名称"},{key:"pre",label:"税前"},{key:"after",label:"税后"},{key:"rate",label:"税率"},{key:"fund",label:"公积金"}],u=async()=>{const o=await m.get("/tax/page",{params:{pageNum:1,pageSize:100}});f.value=o.data.data.content},c=()=>{Object.keys(t).forEach(o=>delete t[o]),s.value=!0},v=o=>{Object.assign(t,o),s.value=!0},k=async()=>{await m.post("/tax",t),s.value=!1,u()},y=async o=>{await m.delete(`/tax/${o}`),u()};return u(),(o,e)=>{const d=i("el-button"),r=i("el-table-column"),g=i("el-table"),x=i("el-dialog");return j(),N("div",null,[$("div",E,[a(d,{type:"success",onClick:c},{default:l(()=>[...e[3]||(e[3]=[p("新增",-1)])]),_:1})]),a(g,{data:f.value,border:""},{default:l(()=>[a(r,{prop:"name",label:"名称"}),a(r,{prop:"pre",label:"税前"}),a(r,{prop:"after",label:"税后"}),a(r,{prop:"rate",label:"税率"}),a(r,{prop:"fund",label:"公积金"}),a(r,{label:"操作",width:"160"},{default:l(n=>[a(d,{size:"small",onClick:C=>v(n.row)},{default:l(()=>[...e[4]||(e[4]=[p("编辑",-1)])]),_:1},8,["onClick"]),a(d,{size:"small",type:"danger",onClick:C=>y(n.row.id)},{default:l(()=>[...e[5]||(e[5]=[p("删除",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1},8,["data"]),a(x,{modelValue:s.value,"onUpdate:modelValue":e[2]||(e[2]=n=>s.value=n),title:"税务",width:"600px"},{footer:l(()=>[a(d,{onClick:e[1]||(e[1]=n=>s.value=!1)},{default:l(()=>[...e[6]||(e[6]=[p("取消",-1)])]),_:1}),a(d,{type:"primary",onClick:k},{default:l(()=>[...e[7]||(e[7]=[p("保存",-1)])]),_:1})]),default:l(()=>[a(V,{modelValue:B(t),"onUpdate:modelValue":e[0]||(e[0]=n=>z(t)?t.value=n:t=n),fields:_},null,8,["modelValue"])]),_:1},8,["modelValue"])])}}}),q=D(O,[["__scopeId","data-v-aa6824f2"]]);export{q as default};
