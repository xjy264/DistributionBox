import{d as V,u as g,c as w,a as i,b as t,w as s,e as v,r as n,f as x,o as k,g as p,h as C,_ as y}from"./index-CkmIPjxY.js";import{h as B}from"./http-Cn7TCoTQ.js";const N={class:"login"},U={class:"card"},h=V({__name:"Login",setup(L){const r=x(),_=g(),o=C({username:"",password:""}),f=async()=>{const a=await B.post("/auth/login",o);_.setAuth(a.data.data.token,a.data.data.user,a.data.data.menus||[]),r.push("/home")},c=()=>r.push("/register");return(a,e)=>{const u=n("el-input"),d=n("el-form-item"),m=n("el-button"),b=n("el-form");return k(),w("div",N,[i("div",U,[e[5]||(e[5]=i("h2",null,"DistributionBox",-1)),t(b,{model:o,onSubmit:e[2]||(e[2]=v(()=>{},["prevent"]))},{default:s(()=>[t(d,{label:"用户名"},{default:s(()=>[t(u,{modelValue:o.username,"onUpdate:modelValue":e[0]||(e[0]=l=>o.username=l)},null,8,["modelValue"])]),_:1}),t(d,{label:"密码"},{default:s(()=>[t(u,{modelValue:o.password,"onUpdate:modelValue":e[1]||(e[1]=l=>o.password=l),type:"password"},null,8,["modelValue"])]),_:1}),t(m,{type:"primary",class:"full",onClick:f},{default:s(()=>[...e[3]||(e[3]=[p("登录",-1)])]),_:1}),t(m,{class:"full",onClick:c},{default:s(()=>[...e[4]||(e[4]=[p("注册",-1)])]),_:1})]),_:1},8,["model"])])])}}}),A=y(h,[["__scopeId","data-v-96bc82fa"]]);export{A as default};
