import{h as p}from"./http-Cn7TCoTQ.js";import{_ as D}from"./EntityForm.vue_vue_type_script_setup_true_lang-CkomLGgO.js";import{d as O,c as $,a as S,b as a,w as t,i as b,r as m,o as B,g as y,j as E,k as h,h as U,_ as I}from"./index-CkmIPjxY.js";const T={class:"toolbar"},q={class:"pager"},A=O({__name:"Detect",setup(F){const c=b([]),u=b(1),d=b(10),g=b(0),n=b(!1);let o=U({});const R=[{key:"pid",label:"台帐号"},{key:"numberState",label:"编号状态"},{key:"numberRemark",label:"编号备注"},{key:"electronicState",label:"触电状态"},{key:"electronicRemark",label:"触电备注"},{key:"appearanceState",label:"外观状态"},{key:"appearanceRemark",label:"外观备注"},{key:"robustnessState",label:"稳固状态"},{key:"robustnessRemark",label:"稳固备注"},{key:"lockState",label:"门锁状态"},{key:"lockRemark",label:"门锁备注"},{key:"cableState",label:"电缆标识状态"},{key:"cableRemark",label:"电缆标识备注"},{key:"systemState",label:"系统图状态"},{key:"systemRemark",label:"系统图备注"},{key:"componentsState",label:"元器件标签状态"},{key:"componentsRemark",label:"元器件标签备注"},{key:"wiringState",label:"配线状态"},{key:"wiringRemark",label:"配线备注"},{key:"looseState",label:"松动状态"},{key:"looseRemark",label:"松动备注"},{key:"temperatureState",label:"温度状态"},{key:"temperatureRemark",label:"温度备注"},{key:"lightningState",label:"避雷状态"},{key:"lightningRemark",label:"避雷备注"},{key:"jumperState",label:"跨接线状态"},{key:"jumperRemark",label:"跨接线备注"},{key:"inoutState",label:"进出线密封状态"},{key:"inoutRemark",label:"进出线密封备注"},{key:"zeroState",label:"零排状态"},{key:"zeroRemark",label:"零排备注"},{key:"groundState",label:"地排状态"},{key:"groundRemark",label:"地排备注"},{key:"barrierState",label:"隔弧挡片状态"},{key:"barrierRemark",label:"隔弧挡片备注"},{key:"cleaningState",label:"清灰保洁状态"},{key:"cleaningRemark",label:"清灰保洁备注"},{key:"screwsState",label:"螺丝状态"},{key:"screwsRemark",label:"螺丝备注"},{key:"firstOtherState",label:"其他状态"},{key:"firstOtherRemark",label:"其他备注"},{key:"workingState",label:"线路工作状态"},{key:"workingRemark",label:"线路工作备注"},{key:"crackingState",label:"老化开裂状态"},{key:"crackingRemark",label:"老化开裂备注"},{key:"workingtemperatureState",label:"连接处温度状态"},{key:"workingtemperatureRemark",label:"连接处温度备注"},{key:"insulationState",label:"出线绝缘状态"},{key:"insulationRemark",label:"出线绝缘备注"},{key:"discolorationState",label:"放电变色状态"},{key:"discolorationRemark",label:"放电变色备注"},{key:"orderState",label:"相序状态"},{key:"orderRemark",label:"相序备注"},{key:"bridgeState",label:"桥架状态"},{key:"bridgeRemark",label:"桥架备注"},{key:"bridgeconnectState",label:"桥架接地跨接状态"},{key:"bridgeconnectRemark",label:"桥架接地跨接备注"},{key:"bridgelidState",label:"桥架盖状态"},{key:"bridgelidRemark",label:"桥架盖备注"},{key:"thirdState",label:"其他状态2"},{key:"thirdRemark",label:"其他备注2"}],k=async()=>{const l=await p.get("/detect/page",{params:{pageNum:u.value,pageSize:d.value}});c.value=l.data.data.content,g.value=l.data.data.totalElements},f=()=>{Object.keys(o).forEach(l=>delete o[l]),n.value=!0},v=l=>{Object.assign(o,l),n.value=!0},_=async()=>{await p.post("/detect",o),n.value=!1,k()},w=async l=>{await p.delete(`/detect/${l}`),k()},C=l=>{d.value=l,k()},z=l=>{u.value=l,k()};return k(),(l,e)=>{const s=m("el-button"),i=m("el-table-column"),V=m("el-table"),x=m("el-pagination"),j=m("el-dialog");return B(),$("div",null,[S("div",T,[a(s,{type:"success",onClick:f},{default:t(()=>[...e[3]||(e[3]=[y("新增",-1)])]),_:1})]),a(V,{data:c.value,border:""},{default:t(()=>[a(i,{prop:"pid",label:"台帐号"}),a(i,{prop:"numberState",label:"编号状态"}),a(i,{prop:"appearanceState",label:"外观状态"}),a(i,{prop:"temperatureState",label:"温度状态"}),a(i,{label:"操作",width:"180"},{default:t(r=>[a(s,{size:"small",onClick:N=>v(r.row)},{default:t(()=>[...e[4]||(e[4]=[y("编辑",-1)])]),_:1},8,["onClick"]),a(s,{size:"small",type:"danger",onClick:N=>w(r.row.pid)},{default:t(()=>[...e[5]||(e[5]=[y("删除",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1},8,["data"]),S("div",q,[a(x,{layout:"total, sizes, prev, pager, next, jumper",total:g.value,"page-size":d.value,"current-page":u.value,"page-sizes":[5,10,20],onSizeChange:C,onCurrentChange:z},null,8,["total","page-size","current-page"])]),a(j,{modelValue:n.value,"onUpdate:modelValue":e[2]||(e[2]=r=>n.value=r),title:"检测记录",width:"760px"},{footer:t(()=>[a(s,{onClick:e[1]||(e[1]=r=>n.value=!1)},{default:t(()=>[...e[6]||(e[6]=[y("取消",-1)])]),_:1}),a(s,{type:"primary",onClick:_},{default:t(()=>[...e[7]||(e[7]=[y("保存",-1)])]),_:1})]),default:t(()=>[a(D,{modelValue:h(o),"onUpdate:modelValue":e[0]||(e[0]=r=>E(o)?o.value=r:o=r),fields:R},null,8,["modelValue"])]),_:1},8,["modelValue"])])}}}),K=I(A,[["__scopeId","data-v-9ff82b78"]]);export{K as default};
