import{h as g}from"./http-Cn7TCoTQ.js";import{_ as D}from"./EntityForm.vue_vue_type_script_setup_true_lang-CkomLGgO.js";import{d as H,c as O,a as y,b as a,w as s,h as V,i as f,r as m,o as R,g as i,j as T,k as q,_ as A}from"./index-CkmIPjxY.js";const F={class:"toolbar"},G={class:"pager"},J=H({__name:"Home",setup(K){const o=V({station:"",area:"",user:""}),_=f([]),b=f(1),v=f(10),k=f(0),p=f(!1);let n=V({});const C=[{key:"station",label:"车间"},{key:"area",label:"工区"},{key:"address",label:"位置"},{key:"user",label:"负责人"},{key:"boxId",label:"台帐号"},{key:"size",label:"规格"},{key:"remark",label:"备注",type:"textarea"}],u=async()=>{const t=await g.get("/home/page",{params:{pageNum:b.value,pageSize:v.value,station:o.station,area:o.area,user:o.user}});_.value=t.data.data.content,k.value=t.data.data.totalElements},z=()=>{o.station="",o.area="",o.user="",u()},x=()=>{Object.keys(n).forEach(t=>delete n[t]),p.value=!0},w=t=>{Object.assign(n,t),p.value=!0},N=async()=>{await g.post("/home/save",n),p.value=!1,u()},U=async t=>{await g.delete(`/home/${t}`),u()},j=t=>{v.value=t,u()},$=t=>{b.value=t,u()};return u(),(t,e)=>{const c=m("el-input"),d=m("el-button"),r=m("el-table-column"),B=m("el-table"),E=m("el-pagination"),I=m("el-dialog");return R(),O("div",null,[y("div",F,[a(c,{modelValue:o.station,"onUpdate:modelValue":e[0]||(e[0]=l=>o.station=l),placeholder:"车间",class:"field"},null,8,["modelValue"]),a(c,{modelValue:o.area,"onUpdate:modelValue":e[1]||(e[1]=l=>o.area=l),placeholder:"工区",class:"field"},null,8,["modelValue"]),a(c,{modelValue:o.user,"onUpdate:modelValue":e[2]||(e[2]=l=>o.user=l),placeholder:"负责人",class:"field"},null,8,["modelValue"]),a(d,{type:"primary",onClick:u},{default:s(()=>[...e[6]||(e[6]=[i("搜索",-1)])]),_:1}),a(d,{onClick:z},{default:s(()=>[...e[7]||(e[7]=[i("重置",-1)])]),_:1}),a(d,{type:"success",onClick:x},{default:s(()=>[...e[8]||(e[8]=[i("新增",-1)])]),_:1})]),a(B,{data:_.value,border:""},{default:s(()=>[a(r,{prop:"station",label:"车间"}),a(r,{prop:"area",label:"工区"}),a(r,{prop:"address",label:"位置"}),a(r,{prop:"user",label:"负责人"}),a(r,{prop:"boxId",label:"台帐号"}),a(r,{prop:"size",label:"规格"}),a(r,{prop:"remark",label:"备注"}),a(r,{label:"操作",width:"180"},{default:s(l=>[a(d,{size:"small",onClick:S=>w(l.row)},{default:s(()=>[...e[9]||(e[9]=[i("编辑",-1)])]),_:1},8,["onClick"]),a(d,{size:"small",type:"danger",onClick:S=>U(l.row.id)},{default:s(()=>[...e[10]||(e[10]=[i("删除",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1},8,["data"]),y("div",G,[a(E,{layout:"total, sizes, prev, pager, next, jumper",total:k.value,"page-size":v.value,"current-page":b.value,"page-sizes":[5,10,20,50],onSizeChange:j,onCurrentChange:$},null,8,["total","page-size","current-page"])]),a(I,{modelValue:p.value,"onUpdate:modelValue":e[5]||(e[5]=l=>p.value=l),title:"站点信息",width:"600px"},{footer:s(()=>[a(d,{onClick:e[4]||(e[4]=l=>p.value=!1)},{default:s(()=>[...e[11]||(e[11]=[i("取消",-1)])]),_:1}),a(d,{type:"primary",onClick:N},{default:s(()=>[...e[12]||(e[12]=[i("保存",-1)])]),_:1})]),default:s(()=>[a(D,{modelValue:q(n),"onUpdate:modelValue":e[3]||(e[3]=l=>T(n)?n.value=l:n=l),fields:C},null,8,["modelValue"])]),_:1},8,["modelValue"])])}}}),Q=A(J,[["__scopeId","data-v-feda7a8f"]]);export{Q as default};
