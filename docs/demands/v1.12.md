# v1.12 需求文档（old-box 路由对齐 + 详情入口 + old-box 启动与数据库重建）

## 背景
用户反馈：`old-box` 中“点击配电箱后可进入配电箱数据详情页”的能力在最新系统中没有体现；同时 old-box 原数据库已丢失，希望恢复可运行数据并启动 old-box 进行查看。

## 需求范围
1. **路由对齐检查（old-box vs 最新系统）**
   - 对比 old-box 与当前系统的二级路由/页面入口，找出未对齐项。
   - 输出差异清单与处理建议。

2. **最新系统新增详情入口**
   - 在“配电箱列表”中新增“查看详细信息”按钮。
   - 点击后进入“配电箱详情/数据页”，可查看该配电箱基础信息与元器件数据。
   - 路由应支持通过 `boxId` 定位（如 query/params）。

3. **old-box 可运行化**
   - 在本地启动 old-box（前后端）。
   - 若受端口冲突影响，允许使用替代端口并说明。

4. **数据库真实数据重建**
   - 重建 old-box 所需 MySQL 库（例如 `shujia`）和核心表结构。
   - 生成最小可运行的真实示例数据（至少包含：用户、菜单/权限、配电箱、元器件、基础字典/地点）。
   - 保证系统登录后可进入并查看配电箱与详情数据。

## 期望输出
- 前端：新增“查看详细信息”入口并可跳转。
- 路由：新增详情路由并可回显目标配电箱数据。
- old-box：可在本地访问并体验主要流程。
- 数据库：提供可复用的 SQL（建库/建表/初始化数据）。
- 文档：在 `docs/done/v1.12.md` 回填“做了什么、改了什么、为什么”。

## 约束
- 尽量复用现有接口（`/box/*`、`/components/*`），减少后端侵入性改造。
- SQL 脚本落在项目 `sql/` 范围内，命名清晰可复用。
- 变更完成后提交 git commit（含文档）。
