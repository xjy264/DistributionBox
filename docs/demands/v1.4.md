# DistributionBox — 需求文档（v1.4）

> v1.4 主题：解除 v1.3 自动化测试阻塞并完成核心可用性回归。

## 0. 文档信息
- 版本：v1.4
- 状态：进行中
- 更新时间：2026-02-11
- 关联系统：配电箱管理系统（`~/project/distributionbox`）
- 关联文档：
  - 需求：`docs/demands/v1.3.md`
  - 完成归档：`docs/done/v1.3.md`

---

## 1. 背景
v1.3 已产出测试方向，但受执行环境阻塞（`listen EPERM`）未完成真实 UI 自动化验证。

---

## 2. 本次目标
1. 解除 v1.3 阻塞，确保可执行浏览器自动化测试。
2. 在不改端口的前提下，执行可用性测试并输出结果。
3. 覆盖以下功能路径：
   - 登录
   - 侧边栏导航
   - 用户管理访问
   - 新建配电箱
   - 新建元器件
   - 新建巡检
   - 新建检测
   - 退出后受保护路由重定向

---

## 3. 约束
- 前后端服务已由用户本机启动。
- 浏览器自动化由执行方启动。
- 端口保持现状，不做变更。
- 若出现新阻塞，立即触发 hook 主动通知用户协同处理。

---

## 4. 期望输出结果
1. 自动化测试可实际执行（不再停留在环境阻塞）。
2. 产出一轮真实测试结果（通过/失败、日志、必要截图）。
3. 所有发现问题先记录，不擅自扩大修复。
4. 执行结果写入 `docs/done/v1.4.md`。
